{% extends 'base_tailwind.html' %}
{% load static %}

{% block title %}Create Branch - Palm Cash{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-secondary-50 via-primary-50 to-secondary-50 py-12">
    <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-4xl font-bold text-secondary-900 mb-2">
                <i class="fas fa-building text-primary-600 mr-3"></i>
                Create New Branch
            </h1>
            <p class="text-lg text-secondary-600">Add a new branch location to the system</p>
        </div>

        <!-- Error Message -->
        {% if error %}
        <div class="mb-6 p-4 bg-danger-100 border-l-4 border-danger-600 text-danger-700 rounded">
            <i class="fas fa-exclamation-circle mr-2"></i>{{ error }}
        </div>
        {% endif %}

        <!-- Form Card -->
        <div class="bg-white rounded-lg shadow-lg p-8">
            <form method="POST" class="space-y-6">
                {% csrf_token %}

                <!-- Branch Name -->
                <div>
                    <label for="name" class="block text-sm font-semibold text-secondary-900 mb-2">
                        Branch Name <span class="text-danger-600">*</span>
                    </label>
                    <input type="text" id="name" name="name" required
                        class="w-full px-4 py-2 border border-secondary-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                        placeholder="e.g., Main Branch, Downtown Office">
                </div>

                <!-- Branch Code -->
                <div>
                    <label for="code" class="block text-sm font-semibold text-secondary-900 mb-2">
                        Branch Code <span class="text-danger-600">*</span>
                    </label>
                    <input type="text" id="code" name="code" required
                        class="w-full px-4 py-2 border border-secondary-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                        placeholder="e.g., MB, SB1, DT">
                </div>

                <!-- Location -->
                <div>
                    <label for="location" class="block text-sm font-semibold text-secondary-900 mb-2">
                        Location <span class="text-danger-600">*</span>
                    </label>
                    <input type="text" id="location" name="location" required
                        class="w-full px-4 py-2 border border-secondary-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                        placeholder="Enter physical address">
                </div>

                <!-- Phone -->
                <div>
                    <label for="phone" class="block text-sm font-semibold text-secondary-900 mb-2">
                        Phone Number
                    </label>
                    <input type="tel" id="phone" name="phone"
                        class="w-full px-4 py-2 border border-secondary-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                        placeholder="Enter phone number">
                </div>

                <!-- Email -->
                <div>
                    <label for="email" class="block text-sm font-semibold text-secondary-900 mb-2">
                        Email
                    </label>
                    <input type="email" id="email" name="email"
                        class="w-full px-4 py-2 border border-secondary-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"
                        placeholder="Enter email address">
                </div>

                <!-- Manager -->
                <div>
                    <label for="manager" class="block text-sm font-semibold text-secondary-900 mb-2">
                        Branch Manager
                    </label>
                    <select id="manager" name="manager"
                        class="w-full px-4 py-2 border border-secondary-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500">
                        <option value="">Select a manager (optional)</option>
                        {% for manager in managers %}
                        <option value="{{ manager.id }}">{{ manager.full_name }} ({{ manager.email }})</option>
                        {% endfor %}
                    </select>
                </div>

                <!-- Buttons -->
                <div class="flex gap-4 pt-6">
                    <button type="submit" class="flex-1 px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-semibold">
                        <i class="fas fa-save mr-2"></i>Create Branch
                    </button>
                    <a href="{% url 'dashboard:manage_branches' %}" class="flex-1 px-6 py-3 bg-secondary-200 text-secondary-900 rounded-lg hover:bg-secondary-300 transition-colors font-semibold text-center">
                        <i class="fas fa-times mr-2"></i>Cancel
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
